<div class="p-lg-4 pb-2">
    <div class="scroll-y">
        <div *ngIf="isTrial()" class="path-check py-2">
            <div class="form-row">
                <div class="col-6 text-left">
                    <b>Account Type</b>
                </div>
                <div class="col-6 my-auto">
                    <a href="javascript:void(0)" class="text-dark text-wrap text-break">Trial</a>
                </div>
            </div>
        </div>
        <div *ngIf="userEmailValid()" class="path-check">
            <div class="form-row">
                <div class="col-6 text-left my-auto">
                    <b>Email</b>
                </div>
                <div class="col-6 my-auto">
                    <a href="javascript:void(0)" class="text-dark text-wrap text-break">{{ user.email }}</a>
                </div>
            </div>
        </div>
        <div *ngIf="googleConfigValid && !isTrial()" class="path-check py-2">
            <div class="form-row">
                <div class="col-5 text-left">
                    <b>Link with Google</b>
                </div>
                <div class="col-7 d-flex flex-row align-items-center justify-content-center">
                    <img src="./assets/images/goog-icon.png" alt="" class="mr-3" />
                    <div
                        class="d-flex flex-column flex-nowrap align-items-center justify-content-center align-content-center"
                    >
                        <label class="switch">
                            <input [(ngModel)]="socialModel.google" (change)="socialChange('google')" type="checkbox" />
                            <span id="googleres" class="slider round"></span>
                        </label>
                        <!-- <a
                            href="javascript:void(0)"
                            *ngIf="socialModel.google"
                            (click)="googleInvite(); openModal('googleInviteModal')"
                            class="invite-frd"
                        >
                            <i class="fa fa-user-plus" aria-hidden="true"></i> Invite friends
                        </a> -->
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="facebookLoaded && facebookConfigValid && !isTrial()" class="path-check py-2">
            <div class="form-row">
                <div class="col-5 text-left">
                    <b>Link with Facebook</b>
                </div>
                <div class="col-7 d-flex flex-row align-items-center justify-content-center">
                    <img src="./assets/images/face-icon.png" alt="" class="mr-3" />
                    <div
                        class="d-flex flex-column flex-nowrap align-items-center justify-content-center align-content-center"
                    >
                        <!-- <div class="col-4"> -->
                        <label class="switch">
                            <input
                                [(ngModel)]="socialModel.facebook"
                                (change)="socialChange('facebook')"
                                type="checkbox"
                            />
                            <span class="slider round"></span>
                        </label>
                        <a
                            href="javascript:void(0)"
                            *ngIf="socialModel.facebook"
                            (click)="fbInvite()"
                            class="invite-frd"
                        >
                            <i class="fa fa-user-plus" aria-hidden="true"></i> Invite friends
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="!isTrial()" class="path-check py-2">
            <div class="form-row">
                <div class="col-6 text-left my-auto">
                    <b>Reset Password</b>
                </div>
                <div class="col-6">
                    <a
                        id="reset-pwd-btn"
                        href="javascript:void(0)"
                        class="btn-action"
                        (click)="openModal('resetPass')"
                        [ngClass]="{ 'greyed-out': userType !== 'site' }"
                        >Reset</a
                    >
                </div>
            </div>
        </div>
        <div class="path-check py-2">
            <div class="form-row">
                <div class="col-6 text-left my-auto">
                    <b>Reset Progress Data</b>
                </div>
                <div class="col-6">
                    <a
                        id="reset-data-btn"
                        href="javascript:void(0)"
                        (click)="clearPasswordData()"
                        (click)="openModal('resetProgressData')"
                        class="btn-action"
                        >Reset</a
                    >
                </div>
            </div>
        </div>
        <div class="path-check py-2">
            <div class="form-row">
                <div class="col-6 text-left my-auto">
                    <b>Deactivate Account</b>
                </div>
                <div class="col-6">
                    <a href="javascript:void(0)" (click)="openModal('deactivateProfile')" class="btn-action"
                        >Deactivate</a
                    >
                </div>
            </div>
        </div>
        <div class="path-check py-2">
            <div class="form-row">
                <div class="col-6 text-left my-auto">
                    <b>Delete Account</b>
                </div>
                <div class="col-6">
                    <a href="javascript:void(0)" (click)="openModal('deleteAccount')" class="btn-action">Delete</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Google Invite Modal -->
<div class="modal fade modal-n" id="googleInviteModal" tabindex="-1" role="dialog" aria-labelledby="GoogleInviteModal">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="google-contacts">Google Contacts</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-n-table">
                <input
                    type="text"
                    class="form-control input-default border-info px-4 search-contacts"
                    id="formGroupExampleInput"
                    [(ngModel)]="searchContact.search"
                    (input)="contactSearch()"
                    placeholder="Search Contacts"
                />
                <div class="mailing-list">
                    <table class="table table-striped table-fixedheader">
                        <thead>
                            <tr>
                                <th scope="col">Email</th>
                                <th scope="col" class="check-n">Action</th>
                            </tr>
                        </thead>
                        <tbody class="g-contact-list">
                            <tr *ngFor="let mailItem of googleContactsFiltered">
                                <td scope="col" class="g-contact">{{ mailItem.name }}</td>
                                <td class="check-n g-contact" scope="col">
                                    <label class="custom-control custom-checkbox">
                                        <input
                                            type="checkbox"
                                            [(ngModel)]="mailItem.checked"
                                            class="custom-control-input"
                                        />
                                        <span class="custom-control-indicator"></span>
                                    </label>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <textarea
                    class="form-control"
                    name="msgbody"
                    [(ngModel)]="mailModel.body"
                    id=""
                    cols="30"
                    rows="2"
                ></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-text-hover" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" (click)="sendGoogleInvite()" data-dismiss="modal">
                    Send
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Google Invite Modal -->

<!-- Reset Password Modal -->
<div class="modal fade modal-n" id="resetPass" tabindex="-1" role="dialog" aria-labelledby="ResetPassword">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="reset-password">Reset Password</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form name="changeForm" [formGroup]="changeForm" (submit)="changePassword(changeForm)">
                <div class="modal-body modal-n-table">
                    <input
                        class="form-control input-default seoc-btn-width"
                        formControlName="oldpassword"
                        name="oldpassword"
                        [ngClass]="{
                            'has-error':
                                changeForm.value.oldpassword &&
                                changeForm.controls.oldpassword.invalid &&
                                changeForm.controls.password.touched,
                        }"
                        type="password"
                        placeholder="Current Password"
                        autocomplete="current-password"
                    />
                    <input
                        class="form-control input-default seoc-btn-width"
                        formControlName="password"
                        name="password"
                        [ngClass]="{
                            'has-error':
                                changeForm.value.password &&
                                changeForm.controls.password.invalid &&
                                changeForm.controls.password.touched,
                        }"
                        type="password"
                        placeholder="New Password"
                        autocomplete="new-password"
                    />
                    <input
                        class="form-control input-default seoc-btn-width"
                        formControlName="confirmpassword"
                        name="confirmpassword"
                        [ngClass]="{
                            'has-error':
                                changeForm.value.confirmpassword &&
                                changeForm.controls.confirmpassword.invalid &&
                                changeForm.controls.confirmpassword.touched,
                        }"
                        type="password"
                        placeholder="Confirm New Password"
                        autocomplete="new-password"
                    />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-text-hover" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Reset Password Modal -->

<!-- Profile Deactivation Confirmation -->
<div class="modal fade modal-n" id="deactivateProfile" tabindex="-1" role="dialog" aria-labelledby="DeactivateProfile">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="deactivate-profile">Deactivate Profile</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-n-table">
                <h4>Are you sure you want to deactivate your profile?</h4>
                <p>This will keep your data intact, but prevent you from logging in.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-text-hover" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="deactivateProfile()">
                    Yes
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Profile Deactivation Confirmation -->

<!-- Profile Delete Confirmation -->
<div class="modal fade modal-n" id="deleteAccount" tabindex="-1" role="dialog" aria-labelledby="DeleteAccount">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="deactivate-profile">Delete Account</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-n-table">
                <h4>Are you sure you want to delete your account?</h4>
                <p><u>Your account and personal data will be deleted.</u></p>
                <h5>Type <b>DELETE</b> to confirm deletion.</h5>
                <input
                    id="account-deletion-input"
                    [ngModel]="accountDeletion.inputValue"
                    type="text"
                    (ngModelChange)="onAccountDeletionInputChange($event)"
                    autocomplete="off"
                />
                <p *ngIf="accountDeletion.error" class="text-danger">
                    Please type "DELETE" to confirm account deletion
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-text-hover" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" (click)="modalDeleteAccountPressed()">
                    Delete Account
                </button>
            </div>
        </div>
    </div>
</div>

<div
    class="modal fade modal-n"
    id="deleteAccountConfirmation"
    tabindex="-1"
    role="dialog"
    aria-labelledby="DeleteAccountConfirmation"
>
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="deactivate-profile">Account Deletion Confirmation</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-n-table">
                <h4>Are you really sure you want to delete your account? This cannot be undone.</h4>
                <p>You won't be able to use the app unless you sign up again.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-text-hover" data-dismiss="modal" (click)="deleteUsersAccount()">
                    YES
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Profile Delete Confirmation -->

<!-- Profile Already Deleted -->
<div
    class="modal fade modal-n"
    data-backdrop="static"
    data-keyboard="false"
    id="deletedProfile"
    tabindex="-1"
    role="dialog"
    aria-labelledby="DeactivatedProfile"
>
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="profile-deactivated">Profile Already deactivated</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-n-table">
                <h4>This profile is already deactivated.</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-text-hover" data-dismiss="modal" (click)="alreadyDeleted()">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="alreadyDeleted()">
                    Yes
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Profile Delete Confirmation -->
<!-- Reset Progress Data Confirmation -->
<div class="modal fade modal-n" id="resetProgressData" tabindex="-1" role="dialog" aria-labelledby="ResetProgressData">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h3 class="modal-title" id="reset-progress-data">Reset Progress Data</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-n-table">
                <h4 class="text-center" *ngIf="userType !== 'site'">
                    Are you sure you want to reset your progress data?
                </h4>
                <h4 class="text-center mar-bot-15" *ngIf="userType === 'site'">
                    Please enter your password to reset your progress data.
                </h4>
                <input
                    id="reset-data-pwd"
                    *ngIf="userType === 'site'"
                    type="password"
                    placeholder="Enter your password"
                    class="form-control input-default seoc-btn-width"
                    (keyup)="keyPressed($event)"
                    [(ngModel)]="password"
                    appAutoFocus
                    (focus)="resetDataPasswordError = false"
                    [ngClass]="{ 'has-error': resetDataPasswordError }"
                />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-gray-text-hover" data-dismiss="modal">Cancel</button>
                <button id="reset-data-yes-btn" type="button" class="btn btn-primary" (click)="resetProgressData()">
                    Yes
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Reset Progress Data Confirmation -->
